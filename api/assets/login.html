<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Official 1D6 Login Page</title>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/argon2-browser/1.18.0/argon2-bundled.min.js"
		integrity="sha512-Alrh8vbmKDc5xiq7I/y8LTDwy9nw1nT9S/yR73HMMoWrpX4S1kizNPdWM896c/CDIGILNwAiaih627A94kRhYQ=="
		crossorigin="anonymous"
		referrerpolicy="no-referrer">
	</script>
	<style>
		/*
			By default everything is based on desktop CSS settings
			Mobile/Tablet screens near the bottom of the styles
		*/
		h1 {
			margin: 0%;
			padding: 0 3% 0 3%;

			white-space: nowrap;
		}

		a:visited {
			color: cornflowerblue;
		}

		a:default {
			color: cornflowerblue;
		}

		a:hover {
			color: blue;
		}

		b {
			font-weight: bold;
		}

		body {
			background-color: rgb(129, 129, 129);
			background-image: url();

			font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
			font-size: 20px;
			font-weight: lighter;

			overflow: hidden;
		}

		button.lang {
			border: none;
			background: rgba(0, 0, 0, 0);
		}

		button.submit {
			border: 3px solid rgb(35, 35, 35);
			border-radius: 30px;
			min-width: 20%;
		}

		div.content {
			display: flex;
			flex-direction: column;
			text-align: center;
			align-items: center;
			justify-content: center;
			margin: 10% 20% 10% 20%;
			padding: 1%;

			background: rgb(42, 42, 42);
			color: white;
			border-radius: 10px;
		}

		div.header {
			display: flex;
			flex-direction: row;
			align-items: center;
			justify-content: center;
		}

		div.form_container {
			border: 3px solid rgb(30, 30, 30);
			width: 45%;
			min-width: 240px;
			padding: 5px;
			margin-bottom: -3px;
		}

		@media only screen and (max-width: 600px) {
			div.content {
				margin: 0;
				border-radius: 0;

				background: linear-gradient(to bottom, rgba(42, 42, 42, 1), rgba(0,0,0,0));
			}

			body {
				margin: 0;
			}
		}

		@media only screen and (min-width: 601px) and (max-width: 899px) {
			div.content {
				margin: 10%;
			}
		}
	</style>
</head>
<body>
	<div class="content">
		<div class="header">
			<a href="">
				<p>home button</p>
			</a>
			<h1 id="title">Official 1D6 Login</h1>
			<button onclick="" class="lang">
				<p>language button</p>
			</a>
		</div>
		<p>
			<noscript>
				<b style="background-color: yellow; color: #000;">
				You need to enable Javascript for this site to work!<br>
				Click <a href="https://www.enable-javascript.com/">here</a> for help if needed!
				</b>
				<br><br>
			</noscript>
			This portal was made to reduce the threat of fake login sites, and launchers that don't hash password properly.
			This portal will always exist and always hash your password with the latest Argon2<sup>(<a href="https://en.wikipedia.org/wiki/Argon2">Wikipedia</a>, <a href="https://datatracker.ietf.org/doc/rfc9106/">IETF</a>)</sup> standard.<br>
			For Developers, read up on integrating this page into your launcher <a href="">here</a>.<br>
			<!--
			As to make sure this is an official endpoint, a cryptographic hash is displayed below as credit. Make sure to be vigilant, check URLs and learn a bit of Javascript if possible.<br>
			<br>
			Hash: <span id="hash_target">HASH</span>
			-->
		</p>
		<div class="form_container" style="border-radius: 30px 30px 0 0;">
			<p>Already have an account?<br><b>Log in</b> here:</p>
			<form action="" method="post">
				<input id="username" placeholder="Username"><br>
				<input id="password" placeholder="Password"><br>
				<br>
				<button class="submit" type="submit">Login</button>
			</form>
			<div style="min-height: 2rem;"><span id="login-error"></span></div>
		</div>
		<div class="form_container" style="border-radius: 0 0 30px 30px;">
			<p>If you don't have an account,<br><b>sign up</b> here:</p>
			<form action="" method="post">
				<input id="username" placeholder="Username"><br>
				<input id="password" placeholder="Password"><br>
				<input id="email" placeholder="Email"><br>
				<br>
				<button class="submit" type="submit">Signup</button>
			</form>
			<div style="min-height: 2rem;"><span id="signup-error"></span></div>
		</div>
		<p style="font-size: smaller;"><i>
			i am well aware this site looks really bad, im a game developer for a reason lol<br>
			- TheColorBlurple
		</i></p>
	</div>
	<script>

		function hashVerifiy(password, salt) {
			argon2
			.hash({
				pass: 'p@ssw0rd',
				salt: 'somesalt'
			})
			.then(hash => {
				console.log(`Encoded: ${hash.encoded}\nHex: ${hash.hashHex}`);

				argon2
					.verify({
						pass: 'p@ssw0rd',
						encoded: hash.encoded
					})
					.then(() => console.log('Verified OK'))
					.catch(e => console.error('Error: ', e));
			})
			.catch(e => {
				console.error('Error: ', e)
			});
		}

		document.addEventListener("DOMContentLoaded", function() {
			function updateText() {
				const title = document.getElementById("title");
				const screenWidth = window.innerWidth;

				if (screenWidth < 900) {
					title.textContent = "1D6 Login";
				} else {
					title.textContent = "Official 1D6 Login";
				}
			}
			// On page load
			updateText();

			// Then on resize
			window.addEventListener('resize', updateText);
		});
	</script>
</body>
</html>
